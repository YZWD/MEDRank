#!/usr/bin/env python
# encoding: utf-8
"""
test_mrrel.py

Created by Jorge Herskovic on 2008-06-23.
Copyright (c) 2008 Jorge Herskovic. All rights reserved.
"""

import unittest
import sys
sys.path.append('../')
from mrrel import *

class test_mrrel(unittest.TestCase):
    def setUp(self):
        from StringIO import StringIO
        self.fakefile=StringIO("""
C0000005|A7755565|SCUI|RB|C0036775|A0115649|SCUI||R31979041||MSH|MSH|||N||
C0000039|A0016511|AUI|SY|C0000039|A1317687|AUI|permuted_term_of|R28482429||MSH|MSH|||N||
C0000039|A0016514|AUI|SY|C0000039|A1317707|AUI|permuted_term_of|R28482431||MSH|MSH|||N||
C0000039|A0016515|AUI|AQ|C0001555|A3879702|AUI||R53088417||MSH|MSH|||N||
C0000039|A0016515|AUI|AQ|C0001688|A3879703|AUI||R53088418||MSH|MSH|||N||
C0000039|A0016515|AUI|AQ|C0002776|A3879704|AUI||R53088419||MSH|MSH|||N||
C0000039|A0016515|AUI|AQ|C0003139|A3879707|AUI||R53088421||MSH|MSH|||N||
C0000039|A0016515|AUI|AQ|C0005572|A3879708|AUI||R53088422||MSH|MSH|||N||
C0000039|A0016515|AUI|AQ|C0005768|A3879709|AUI||R53088423||MSH|MSH|||N||
C0000039|A0016515|AUI|AQ|C0007807|A3879711|AUI||R53088424||MSH|MSH|||N||
C0000039|A0016515|AUI|AQ|C0007987|A3879712|AUI||R53088425||MSH|MSH|||N||
C0000039|A0016515|AUI|AQ|C0008903|A3879715|AUI||R53088427||MSH|MSH|||N||
C0000039|A0016515|AUI|AQ|C0011933|A3879722|AUI||R53088430||MSH|MSH|||N||
C0000039|A0016515|AUI|AQ|C0013557|A3879726|AUI||R53088431||MSH|MSH|||N||
C0000039|A0016515|AUI|AQ|C0017399|A3879733|AUI||R53088432||MSH|MSH|||N||
C0000039|A0016515|AUI|AQ|C0019665|A3879735|AUI||R53088433||MSH|MSH|||N||
        """)
        self.mrrel_reader=MRRELTable(self.fakefile)
    def testOutputType(self):
        for x in self.mrrel_reader:
            self.assert_(isinstance(x, MRRELLine))
    
if __name__ == '__main__':
    unittest.main()